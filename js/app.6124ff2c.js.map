{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/dressing_sald.png","webpack:///./src/scene/GameScene.vue?862c","webpack:///./src/assets/salad.png","webpack:///./src/assets/cooking_yakiniku_tare.png","webpack:///./src/components/Tile.vue?6491","webpack:///./src/App.vue?5288","webpack:///./src/assets/eto_remake_ushi.png","webpack:///./src/assets/niku_yakiniku.png","webpack:///./src/App.vue","webpack:///./src/lib/game.ts","webpack:///./src/lib/app.ts","webpack:///./src/scene/StartScene.vue","webpack:///./src/scene/StartScene.vue?dc2f","webpack:///./src/scene/StartScene.vue?1bdf","webpack:///./src/scene/GameScene.vue","webpack:///./src/components/Tile.vue","webpack:///./src/components/Tile.vue?2854","webpack:///./src/components/Tile.vue?f0b9","webpack:///./src/scene/GameScene.vue?d829","webpack:///./src/scene/GameScene.vue?dc7e","webpack:///./src/scene/ResultScene.vue","webpack:///./src/scene/ResultScene.vue?e94d","webpack:///./src/scene/ResultScene.vue?643a","webpack:///./src/App.vue?3acc","webpack:///./src/App.vue?dfb6","webpack:///./src/store/index.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","id","style","app","container","scene","randomId","Math","floor","random","wait","millisec","Promise","resolve","setTimeout","rows","columns","countdown","field","tiles","Array","map","_","row","col","tileType","tileId","position","up","isOpen","down","left","right","cowPos","cowSaucePos","vegSaucePos","picture","undefined","canOperate","stage","score","isOver","goToNextStage","game","createRandomPipeTile","randomBool","createObjectTile","objectType","randomY","randomX","start","timer","setInterval","clearInterval","createMemo","prev","lastMove","dig","pos","memo","flow","isNotStart","tile","upPos","downPos","leftPos","rightPos","canMoveUp","nextTile","canMoveDown","canMoveLeft","canMoveRight","fill","prevTile","ret","reachsCowSauce","reachsVegSauce","console","log","pos1","pos2","row1","col1","row2","col2","isAdjacent","abs","isSelectable","pictureShown","then","selected","height","width","setupApp","resizeContainer","innerHeight","innerWidth","margin","addEventListener","props","render","class","src","cols","tweet","retry","selectTile","isSelectedTile","upperLeftPieceStyle","upperRightPieceStyle","lowerLeftPieceStyle","lowerRightPieceStyle","borderProp","pipe","color","COW_SAUCE","VEG_SAUCE","NONE","type","required","setup","size","__scopeId","components","Tile","message","open","location","href","encodeURI","StartScene","GameScene","ResultScene","state","mutations","actions","App","use","store","mount"],"mappings":"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","file":"js/app.6124ff2c.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __webpack_public_path__ + \"img/dressing_sald.cc9a9f2a.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./GameScene.vue?vue&type=style&index=0&id=61eca67a&lang=scss&scoped=true\"","module.exports = __webpack_public_path__ + \"img/salad.f8dce597.png\";","module.exports = __webpack_public_path__ + \"img/cooking_yakiniku_tare.263e7575.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Tile.vue?vue&type=style&index=0&id=a13f4976&lang=scss&scoped=true\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=0ed5514b&lang=scss&scoped=true\"","module.exports = __webpack_public_path__ + \"img/eto_remake_ushi.d4e84512.png\";","module.exports = __webpack_public_path__ + \"img/niku_yakiniku.3bf07da3.png\";","<template>\n  <div id=\"container\" :style=\"app.container.style\">\n    <component :is=\"app.scene\"></component>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\n\nimport { setupApp, app } from \"@/lib/app\";\n\nimport StartScene from \"@/scene/StartScene.vue\";\nimport GameScene from \"@/scene/GameScene.vue\";\nimport ResultScene from \"@/scene/ResultScene.vue\";\n\nexport default defineComponent({\n  name: \"App\",\n  components: {\n    StartScene,\n    GameScene,\n    ResultScene,\n  },\n  setup() {\n    setupApp();\n\n    return {\n      app,\n    };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n#container {\n  border: solid 1px green;\n}\n</style>\n","export interface Game {\n  field: {\n    tiles: Tile[][];\n    rows: number;\n    columns: number;\n    cowPos: Position;\n    cowSaucePos: Position;\n    vegSaucePos: Position;\n    selected?: Position;\n  };\n  canOperate: boolean;\n  picture: Picture;\n  stage: number;\n  score: number;\n  countdown: number;\n  isOver: boolean;\n}\n\nexport type Position = [number, number];\n\nexport type Tile = PipeTile | ObjectTile;\nexport type ObjectType = \"COW\" | \"COW_SAUCE\" | \"VEG_SAUCE\";\nexport type Flow = \"COW_SAUCE\" | \"VEG_SAUCE\";\nexport type Picture = \"COW\" | \"VEG\" | undefined;\n\nexport interface ObjectTile {\n  tileType: \"OBJECT\";\n  tileId: number;\n  position: Position;\n  objectType: ObjectType;\n}\n\nexport interface PipeTile {\n  tileType: \"PIPE\";\n  tileId: number;\n  position: Position;\n  up: Pipe;\n  down: Pipe;\n  left: Pipe;\n  right: Pipe;\n}\n\nexport interface Pipe {\n  isOpen: boolean;\n  flow?: Flow;\n}\n\nconst randomId = () => Math.floor(Math.random() * 100000);\n\nconst wait = async (millisec: number) =>\n  new Promise((resolve): number => setTimeout(resolve, millisec));\n\nexport const createGameState = (): Game => {\n  const rows = 6;\n  const columns = 6;\n  const countdown = 60;\n\n  return {\n    field: {\n      tiles: [...Array(rows)].map((_, row) =>\n        [...Array(columns)].map((_, col) => ({\n          tileType: \"PIPE\",\n          tileId: randomId(),\n          position: [row, col],\n          up: {\n            isOpen: false,\n          },\n          down: {\n            isOpen: false,\n          },\n          left: {\n            isOpen: false,\n          },\n          right: {\n            isOpen: false,\n          },\n        }))\n      ),\n      rows,\n      columns,\n      cowPos: [-1, -1],\n      cowSaucePos: [-1, -1],\n      vegSaucePos: [-1, -1],\n    },\n    picture: undefined,\n    canOperate: true,\n    stage: 0,\n    score: 0,\n    countdown,\n    isOver: false,\n  };\n};\n\nconst goToNextStage = (game: Game): void => {\n  const { rows, columns } = game.field;\n\n  // Increment stage count\n  game.stage += 1;\n\n  // Generate pipe-tiles\n  const createRandomPipeTile = (position: Position): PipeTile => {\n    const randomBool = () => Math.random() < 0.5;\n\n    return {\n      tileType: \"PIPE\",\n      tileId: randomId(),\n      position,\n      up: {\n        isOpen: randomBool(),\n      },\n      down: {\n        isOpen: randomBool(),\n      },\n      left: {\n        isOpen: randomBool(),\n      },\n      right: {\n        isOpen: randomBool(),\n      },\n    };\n  };\n\n  for (let row = 0; row < rows; row++)\n    for (let col = 0; col < columns; col++)\n      game.field.tiles[row][col] = createRandomPipeTile([row, col]);\n\n  // Generate object-tiles\n  const createObjectTile = (position: Position, objectType: ObjectType) => ({\n    tileType: \"OBJECT\" as const,\n    tileId: randomId(),\n    position,\n    objectType,\n  });\n\n  const randomY = () => Math.floor(Math.random() * rows);\n  const randomX = () => Math.floor(Math.random() * columns);\n\n  let row: number;\n  let col: number;\n\n  while (\n    (([row, col] = [randomX(), randomY()]),\n    game.field.tiles[row][col].tileType !== \"PIPE\")\n  );\n  game.field.tiles[row][col] = createObjectTile([row, col], \"COW\");\n  game.field.cowPos = [row, col];\n\n  while (\n    (([row, col] = [randomX(), randomY()]),\n    game.field.tiles[row][col].tileType !== \"PIPE\")\n  );\n  game.field.tiles[row][col] = createObjectTile([row, col], \"COW_SAUCE\");\n  game.field.cowSaucePos = [row, col];\n\n  while (\n    (([row, col] = [randomX(), randomY()]),\n    game.field.tiles[row][col].tileType !== \"PIPE\")\n  );\n  game.field.tiles[row][col] = createObjectTile([row, col], \"VEG_SAUCE\");\n  game.field.vegSaucePos = [row, col];\n};\n\nexport const start = (game: Game): void => {\n  game.isOver = false;\n  game.canOperate = true;\n\n  const timer = setInterval(() => {\n    game.countdown--;\n    if (game.countdown <= 0) {\n      game.countdown = 0;\n      clearInterval(timer);\n      game.isOver = true;\n      game.canOperate = false;\n    }\n  }, 1000);\n\n  goToNextStage(game);\n};\n\nconst fillFlowIfReachs = (\n  game: Game\n): {\n  reachsCowSauce: boolean;\n  reachsVegSauce: boolean;\n} => {\n  type Move = \"UP\" | \"DOWN\" | \"RIGHT\" | \"LEFT\";\n  type Memo = {\n    prev?: Position;\n    lastMove?: Move;\n  }[][];\n\n  const { rows, columns } = game.field;\n  const createMemo = (): Memo =>\n    [...Array(rows)].map(() =>\n      [...Array(columns)].map(() => ({\n        prev: undefined,\n        lastMove: undefined,\n      }))\n    );\n\n  const dig = (\n    pos: Position,\n    memo: Memo,\n    flow: Flow,\n    prev?: Position,\n    lastMove?: Move,\n    isNotStart?: boolean\n  ): boolean => {\n    const [row, col] = pos;\n    const tile = game.field.tiles?.[row]?.[col];\n\n    if (tile === undefined) return false;\n    if (memo[row][col].prev !== undefined) return false;\n    if (isNotStart && tile.tileType === \"OBJECT\" && tile.objectType !== \"COW\")\n      return false;\n\n    memo[row][col] = { prev, lastMove };\n\n    const upPos: Position = [row - 1, col];\n    const downPos: Position = [row + 1, col];\n    const leftPos: Position = [row, col - 1];\n    const rightPos: Position = [row, col + 1];\n\n    if (tile.tileType === \"PIPE\") {\n      const canMoveUp = () => {\n        const [row, col] = upPos;\n        const nextTile = game.field.tiles?.[row]?.[col];\n\n        return (\n          tile.up.isOpen &&\n          nextTile !== undefined &&\n          (nextTile.tileType !== \"PIPE\" || nextTile.down.isOpen)\n        );\n      };\n      const canMoveDown = () => {\n        const [row, col] = downPos;\n        const nextTile = game.field.tiles?.[row]?.[col];\n\n        return (\n          tile.down.isOpen &&\n          nextTile !== undefined &&\n          (nextTile.tileType !== \"PIPE\" || nextTile.up.isOpen)\n        );\n      };\n      const canMoveLeft = () => {\n        const [row, col] = leftPos;\n        const nextTile = game.field.tiles?.[row]?.[col];\n\n        return (\n          tile.left.isOpen &&\n          nextTile !== undefined &&\n          (nextTile.tileType !== \"PIPE\" || nextTile.right.isOpen)\n        );\n      };\n      const canMoveRight = () => {\n        const [row, col] = rightPos;\n        const nextTile = game.field.tiles?.[row]?.[col];\n\n        return (\n          tile.right.isOpen &&\n          nextTile !== undefined &&\n          (nextTile.tileType !== \"PIPE\" || nextTile.left.isOpen)\n        );\n      };\n\n      if (canMoveUp() && dig(upPos, memo, flow, pos, \"UP\", true)) return true;\n      if (canMoveDown() && dig(downPos, memo, flow, pos, \"DOWN\", true))\n        return true;\n      if (canMoveLeft() && dig(leftPos, memo, flow, pos, \"LEFT\", true))\n        return true;\n      if (canMoveRight() && dig(rightPos, memo, flow, pos, \"RIGHT\", true))\n        return true;\n      return false;\n    }\n\n    if (tile.objectType === flow && prev === undefined) {\n      // here is start\n      const canMoveUp = () => {\n        const [row, col] = upPos;\n        const nextTile = game.field.tiles?.[row]?.[col];\n\n        return (\n          nextTile !== undefined &&\n          (nextTile.tileType !== \"PIPE\" || nextTile.down.isOpen)\n        );\n      };\n      const canMoveDown = () => {\n        const [row, col] = downPos;\n        const nextTile = game.field.tiles?.[row]?.[col];\n\n        return (\n          nextTile !== undefined &&\n          (nextTile.tileType !== \"PIPE\" || nextTile.up.isOpen)\n        );\n      };\n      const canMoveLeft = () => {\n        const [row, col] = leftPos;\n        const nextTile = game.field.tiles?.[row]?.[col];\n\n        return (\n          nextTile !== undefined &&\n          (nextTile.tileType !== \"PIPE\" || nextTile.right.isOpen)\n        );\n      };\n      const canMoveRight = () => {\n        const [row, col] = rightPos;\n        const nextTile = game.field.tiles?.[row]?.[col];\n\n        return (\n          nextTile !== undefined &&\n          (nextTile.tileType !== \"PIPE\" || nextTile.left.isOpen)\n        );\n      };\n      if (canMoveUp() && dig(upPos, memo, flow, pos, \"UP\", true)) return true;\n      if (canMoveDown() && dig(downPos, memo, flow, pos, \"DOWN\", true))\n        return true;\n      if (canMoveLeft() && dig(leftPos, memo, flow, pos, \"LEFT\", true))\n        return true;\n      if (canMoveRight() && dig(rightPos, memo, flow, pos, \"RIGHT\", true))\n        return true;\n      return false;\n    }\n\n    return tile.objectType === \"COW\";\n  };\n\n  const fill = (pos: Position, memo: Memo, flow: Flow): void => {\n    const [row, col] = pos;\n    const prev = memo[row][col].prev;\n\n    if (prev === undefined) return;\n\n    const lastMove = memo[row][col].lastMove as Move;\n    const tile = game.field.tiles[row][col];\n\n    if (lastMove === \"UP\") {\n      if (tile.tileType == \"PIPE\") tile.down.flow = flow;\n      const prevTile = game.field.tiles[prev[0]][prev[1]];\n      if (prevTile.tileType === \"PIPE\") prevTile.up.flow = flow;\n    }\n    if (lastMove === \"DOWN\") {\n      if (tile.tileType == \"PIPE\") tile.up.flow = flow;\n      const prevTile = game.field.tiles[prev[0]][prev[1]];\n      if (prevTile.tileType === \"PIPE\") prevTile.down.flow = flow;\n    }\n    if (lastMove === \"RIGHT\") {\n      if (tile.tileType == \"PIPE\") tile.left.flow = flow;\n      const prevTile = game.field.tiles[prev[0]][prev[1]];\n      if (prevTile.tileType === \"PIPE\") prevTile.right.flow = flow;\n    }\n    if (lastMove === \"LEFT\") {\n      if (tile.tileType == \"PIPE\") tile.right.flow = flow;\n      const prevTile = game.field.tiles[prev[0]][prev[1]];\n      if (prevTile.tileType === \"PIPE\") prevTile.left.flow = flow;\n    }\n\n    fill(prev, memo, flow);\n  };\n\n  let memo = createMemo();\n  const ret = {\n    reachsCowSauce: false,\n    reachsVegSauce: false,\n  };\n\n  ret.reachsVegSauce = dig(game.field.vegSaucePos, memo, \"VEG_SAUCE\");\n  if (ret.reachsVegSauce) {\n    console.log(\"veg\", memo);\n    fill(game.field.cowPos, memo, \"VEG_SAUCE\");\n    return ret;\n  }\n\n  memo = createMemo();\n  ret.reachsCowSauce = dig(game.field.cowSaucePos, memo, \"COW_SAUCE\");\n  if (ret.reachsCowSauce) {\n    console.log(\"cow\", memo);\n    fill(game.field.cowPos, memo, \"COW_SAUCE\");\n  }\n\n  return ret;\n};\n\nconst swapTiles = (game: Game, pos1: Position, pos2: Position) => {\n  const [row1, col1] = pos1;\n  const [row2, col2] = pos2;\n  const tiles = game.field.tiles;\n\n  const isAdjacent =\n    (row1 === row2 && Math.abs(col1 - col2) === 1) ||\n    (col1 === col2 && Math.abs(row1 - row2) === 1);\n  const isSelectable = (tile: Tile | undefined): boolean =>\n    tile !== undefined && tile.tileType === \"PIPE\";\n\n  if (\n    !isAdjacent ||\n    !isSelectable(tiles[row1][col1]) ||\n    !isSelectable(tiles[row2][col2])\n  )\n    // Do Nothing\n    return;\n\n  // Swap\n  [tiles[row1][col1], tiles[row2][col2]] = [\n    tiles[row2][col2],\n    tiles[row1][col1],\n  ];\n\n  // But positions be kept\n  [tiles[row1][col1].position, tiles[row2][col2].position] = [\n    tiles[row2][col2].position,\n    tiles[row1][col1].position,\n  ];\n\n  // Check gameover\n  const { reachsCowSauce, reachsVegSauce } = fillFlowIfReachs(game);\n  console.log(\"check\", { reachsCowSauce, reachsVegSauce });\n\n  const pictureShown: Picture = reachsVegSauce\n    ? \"VEG\"\n    : reachsCowSauce\n    ? \"COW\"\n    : undefined;\n\n  if (pictureShown !== undefined) {\n    Promise.resolve().then(async () => {\n      game.canOperate = false;\n\n      await wait(500);\n\n      game.picture = pictureShown;\n\n      await wait(500);\n\n      game.canOperate = true;\n      game.picture = undefined;\n      game.countdown += 3;\n\n      if (pictureShown == \"VEG\") game.countdown = 0;\n\n      goToNextStage(game);\n    });\n  }\n};\n\nexport const selectTile = (game: Game, position: Position): void => {\n  const [row, col] = position;\n\n  if (!game.canOperate) return;\n  if (game.field.tiles[row][col].tileType !== \"PIPE\") return;\n\n  if (game.field.selected) {\n    swapTiles(game, position, game.field.selected);\n    game.field.selected = undefined;\n  } else {\n    game.field.selected = position;\n  }\n};\n","import { reactive } from \"vue\";\n\nimport { createGameState, Game } from \"./game\";\n\nexport interface AppState {\n  scene: Scene;\n  game: Game;\n  container: {\n    height: number;\n    width: number;\n    style: {\n      height: string;\n      width: string;\n    };\n  };\n}\n\ntype Scene = \"StartScene\" | \"GameScene\" | \"ResultScene\";\n\nexport const app: AppState = reactive({\n  scene: \"GameScene\",\n  game: createGameState(),\n  container: {\n    height: 0,\n    width: 0,\n    style: {\n      height: \"0\",\n      width: \"0\",\n    },\n  },\n});\n\nexport const setupApp = () => {\n  const resizeContainer = () => {\n    const height = window.innerHeight;\n    const width = window.innerWidth;\n    const container = app.container;\n    const margin = 3;\n\n    if ((height * 9) / 16 < width) {\n      container.height = height - margin;\n      container.width = (height * 9) / 16 - margin;\n    } else {\n      container.height = (width * 16) / 9 - margin;\n      container.width = width - margin;\n    }\n\n    container.style.height = `${container.height}px`;\n    container.style.width = `${container.width}px`;\n  };\n\n  window.addEventListener(\"resize\", resizeContainer);\n\n  resizeContainer();\n};\n","<template>\n  <div></div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"StartScene\",\n  props: {},\n});\n</script>\n","\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"StartScene\",\n  props: {},\n});\n","import { render } from \"./StartScene.vue?vue&type=template&id=b0d8cb8e\"\nimport script from \"./StartScene.vue?vue&type=script&lang=ts\"\nexport * from \"./StartScene.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"indicator\">\n    <div class=\"score\">スコア: {{ app.game.score }}</div>\n    <div class=\"timer\">残り時間: {{ app.game.countdown }}</div>\n  </div>\n\n  <template v-if=\"app.game.picture\">\n    <div\n      class=\"picture-container\"\n      :style=\"{\n        width: app.container.style.width,\n        height: app.container.style.width,\n      }\"\n    >\n      <img\n        class=\"picture\"\n        v-if=\"app.game.picture === 'COW'\"\n        src=\"@/assets/niku_yakiniku.png\"\n      />\n      <img\n        class=\"picture\"\n        v-if=\"app.game.picture === 'VEG'\"\n        src=\"@/assets/salad.png\"\n      />\n    </div>\n  </template>\n\n  <template v-else>\n    <div class=\"stage\">\n      <template v-for=\"cols in field.tiles\">\n        <template v-for=\"tile in cols\" :key=\"tile.tileId\">\n          <Tile class=\"tile\" :tile=\"tile\" />\n        </template>\n      </template>\n    </div>\n  </template>\n\n  <div class=\"desc\">\n    牛に焼肉のタレをかけて焼肉を作ろう！ドレッシングをかけるとサラダになってしまうから要注意だ！\n  </div>\n\n  <div v-show=\"app.game.isOver\">\n    <div>\n      おわり！！！！！\n    </div>\n    <button class=\"btn\" @click=\"tweet\">\n      つぶやく\n    </button>\n    <button class=\"btn\" @click=\"retry\">\n      もっかい\n    </button>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent } from \"vue\";\n\nimport { app } from \"@/lib/app\";\nimport { start } from \"@/lib/game\";\n\nimport Tile from \"@/components/Tile.vue\";\n\nexport default defineComponent({\n  name: \"GameScene\",\n  components: {\n    Tile,\n  },\n  setup() {\n    start(app.game);\n\n    return {\n      app,\n      field: computed(() => app.game.field),\n      tweet: () => {\n        const message = `わたしはおせちのために ${app.game.score} 匹の丑を焼肉にしました`;\n        (window as any).open().location.href = `https://twitter.com/intent/tweet?text=${encodeURI(\n          message\n        )}`;\n      },\n      retry: () => start(app.game),\n    };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.tile {\n  display: inline-block;\n  vertical-align: bottom;\n  border: solid 0.5px lightgrey;\n}\n\n.picture {\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n}\n\n.indicator {\n  display: flex;\n  justify-content: space-between;\n  padding: 10px;\n  font-size: large;\n}\n\n.btn {\n  margin: 5px;\n}\n\n.desc {\n  margin: 10px;\n}\n</style>\n","<template>\n  <div :style=\"style\">\n    <template v-if=\"tile.tileType === 'PIPE'\">\n      <div\n        @click=\"selectTile\"\n        class=\"tile pipe-tile\"\n        :class=\"{ selected: isSelectedTile }\"\n      >\n        <div class=\"pipe-tile-piece\" :style=\"upperLeftPieceStyle\"></div>\n        <div class=\"pipe-tile-piece\" :style=\"upperRightPieceStyle\"></div>\n        <div class=\"pipe-tile-piece\" :style=\"lowerLeftPieceStyle\"></div>\n        <div class=\"pipe-tile-piece\" :style=\"lowerRightPieceStyle\"></div>\n      </div>\n    </template>\n    <template v-else>\n      <template v-if=\"tile.objectType === 'COW'\">\n        <img class=\"tile image-tile\" src=\"@/assets/eto_remake_ushi.png\" />\n      </template>\n      <template v-if=\"tile.objectType === 'COW_SAUCE'\">\n        <img class=\"tile image-tile\" src=\"@/assets/cooking_yakiniku_tare.png\" />\n      </template>\n      <template v-if=\"tile.objectType === 'VEG_SAUCE'\">\n        <img class=\"tile image-tile\" src=\"@/assets/dressing_sald.png\" />\n      </template>\n    </template>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType, computed } from \"vue\";\n\nimport { app } from \"@/lib/app\";\n\nimport { PipeTile, Tile, Pipe, selectTile } from \"@/lib/game\";\n\nconst setupPipeTile = (props: Readonly<{ tile: Tile }>) => {\n  const borderProp = (pipe: Pipe) => {\n    if (!pipe.isOpen) return undefined;\n\n    const color = {\n      COW_SAUCE: \"orange\",\n      VEG_SAUCE: \"green\",\n      NONE: \"gray\",\n    }[pipe.flow ?? \"NONE\"];\n\n    return `solid ${color} 2px`;\n  };\n\n  const pipe = props.tile as PipeTile;\n\n  return {\n    upperLeftPieceStyle: computed(() => ({\n      \"border-right\": borderProp(pipe.up),\n      \"border-bottom\": borderProp(pipe.left),\n    })),\n    upperRightPieceStyle: computed(() => ({\n      \"border-left\": borderProp(pipe.up),\n      \"border-bottom\": borderProp(pipe.right),\n    })),\n    lowerLeftPieceStyle: computed(() => ({\n      \"border-top\": borderProp(pipe.left),\n      \"border-right\": borderProp(pipe.down),\n    })),\n    lowerRightPieceStyle: computed(() => ({\n      \"border-top\": borderProp(pipe.right),\n      \"border-left\": borderProp(pipe.down),\n    })),\n    isSelectedTile: computed(() => {\n      const [row1, col1] = app.game.field.selected ?? [-1, -1];\n      const [row2, col2] = props.tile.position;\n\n      return row1 === row2 && col1 == col2;\n    }),\n    selectTile: () => selectTile(app.game, props.tile.position),\n  };\n};\n\nexport default defineComponent({\n  name: \"Tile\",\n  props: {\n    tile: {\n      type: Object as PropType<Tile>,\n      required: true,\n    },\n  },\n  setup(props) {\n    return {\n      style: computed(() => {\n        const size = app.container.width / app.game.field.columns;\n\n        return {\n          width: `${size}px`,\n          height: `${size}px`,\n        };\n      }),\n      ...setupPipeTile(props),\n    };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.tile {\n  width: 100%;\n  height: 100%;\n}\n\n.image-tile {\n  object-fit: contain;\n}\n\n.pipe-tile {\n  cursor: pointer;\n\n  &.selected {\n    border: solid 1px yellow;\n  }\n\n  &:not(.selected):hover {\n    border: solid 1px cadetblue;\n  }\n}\n\n.pipe-tile-piece {\n  display: inline-block;\n  vertical-align: bottom;\n  width: 50%;\n  height: 50%;\n}\n</style>\n","\nimport { defineComponent, PropType, computed } from \"vue\";\n\nimport { app } from \"@/lib/app\";\n\nimport { PipeTile, Tile, Pipe, selectTile } from \"@/lib/game\";\n\nconst setupPipeTile = (props: Readonly<{ tile: Tile }>) => {\n  const borderProp = (pipe: Pipe) => {\n    if (!pipe.isOpen) return undefined;\n\n    const color = {\n      COW_SAUCE: \"orange\",\n      VEG_SAUCE: \"green\",\n      NONE: \"gray\",\n    }[pipe.flow ?? \"NONE\"];\n\n    return `solid ${color} 2px`;\n  };\n\n  const pipe = props.tile as PipeTile;\n\n  return {\n    upperLeftPieceStyle: computed(() => ({\n      \"border-right\": borderProp(pipe.up),\n      \"border-bottom\": borderProp(pipe.left),\n    })),\n    upperRightPieceStyle: computed(() => ({\n      \"border-left\": borderProp(pipe.up),\n      \"border-bottom\": borderProp(pipe.right),\n    })),\n    lowerLeftPieceStyle: computed(() => ({\n      \"border-top\": borderProp(pipe.left),\n      \"border-right\": borderProp(pipe.down),\n    })),\n    lowerRightPieceStyle: computed(() => ({\n      \"border-top\": borderProp(pipe.right),\n      \"border-left\": borderProp(pipe.down),\n    })),\n    isSelectedTile: computed(() => {\n      const [row1, col1] = app.game.field.selected ?? [-1, -1];\n      const [row2, col2] = props.tile.position;\n\n      return row1 === row2 && col1 == col2;\n    }),\n    selectTile: () => selectTile(app.game, props.tile.position),\n  };\n};\n\nexport default defineComponent({\n  name: \"Tile\",\n  props: {\n    tile: {\n      type: Object as PropType<Tile>,\n      required: true,\n    },\n  },\n  setup(props) {\n    return {\n      style: computed(() => {\n        const size = app.container.width / app.game.field.columns;\n\n        return {\n          width: `${size}px`,\n          height: `${size}px`,\n        };\n      }),\n      ...setupPipeTile(props),\n    };\n  },\n});\n","import { render } from \"./Tile.vue?vue&type=template&id=a13f4976&scoped=true\"\nimport script from \"./Tile.vue?vue&type=script&lang=ts\"\nexport * from \"./Tile.vue?vue&type=script&lang=ts\"\n\nimport \"./Tile.vue?vue&type=style&index=0&id=a13f4976&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-a13f4976\"\n\nexport default script","\nimport { computed, defineComponent } from \"vue\";\n\nimport { app } from \"@/lib/app\";\nimport { start } from \"@/lib/game\";\n\nimport Tile from \"@/components/Tile.vue\";\n\nexport default defineComponent({\n  name: \"GameScene\",\n  components: {\n    Tile,\n  },\n  setup() {\n    start(app.game);\n\n    return {\n      app,\n      field: computed(() => app.game.field),\n      tweet: () => {\n        const message = `わたしはおせちのために ${app.game.score} 匹の丑を焼肉にしました`;\n        (window as any).open().location.href = `https://twitter.com/intent/tweet?text=${encodeURI(\n          message\n        )}`;\n      },\n      retry: () => start(app.game),\n    };\n  },\n});\n","import { render } from \"./GameScene.vue?vue&type=template&id=61eca67a&scoped=true\"\nimport script from \"./GameScene.vue?vue&type=script&lang=ts\"\nexport * from \"./GameScene.vue?vue&type=script&lang=ts\"\n\nimport \"./GameScene.vue?vue&type=style&index=0&id=61eca67a&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-61eca67a\"\n\nexport default script","<template>\n  <div></div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"ResultScene\",\n  props: {},\n});\n</script>\n","\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"ResultScene\",\n  props: {},\n});\n","import { render } from \"./ResultScene.vue?vue&type=template&id=01074c0e\"\nimport script from \"./ResultScene.vue?vue&type=script&lang=ts\"\nexport * from \"./ResultScene.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport { defineComponent } from \"vue\";\n\nimport { setupApp, app } from \"@/lib/app\";\n\nimport StartScene from \"@/scene/StartScene.vue\";\nimport GameScene from \"@/scene/GameScene.vue\";\nimport ResultScene from \"@/scene/ResultScene.vue\";\n\nexport default defineComponent({\n  name: \"App\",\n  components: {\n    StartScene,\n    GameScene,\n    ResultScene,\n  },\n  setup() {\n    setupApp();\n\n    return {\n      app,\n    };\n  },\n});\n","import { render } from \"./App.vue?vue&type=template&id=0ed5514b&scoped=true\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=0ed5514b&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-0ed5514b\"\n\nexport default script","import { createStore } from \"vuex\";\n\nexport default createStore({\n  state: {},\n  mutations: {},\n  actions: {},\n  modules: {},\n});\n","import { createApp } from \"vue\";\nimport App from \"./App.vue\";\nimport store from \"./store\";\n\ncreateApp(App)\n  .use(store)\n  .mount(\"#app\");\n"],"sourceRoot":""}